{
  "paths": {
    "/api/docent/courses": {
        "get": {
            "summary": "Haal vakken van docent op",
            "description": "Haalt alle vakken op waar de ingelogde docent les aan geeft, inclusief aantallen studenten en opdrachten.",
            "operationId": "getDocentCourses",
            "tags": [
                "Docenten"
            ],
            "security": [
                {
                    "bearerAuth": []
                }
            ],
            "responses": {
                "200": {
                    "description": "Lijst met vakken van de docent",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "courses": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "description": "Unieke ID van het vak"
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "description": "Titel van het vak"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "description": "Beschrijving van het vak"
                                                },
                                                "joinCode": {
                                                    "type": "string",
                                                    "description": "Join code voor het vak"
                                                },
                                                "createdAt": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "description": "Aanmaakdatum"
                                                },
                                                "updatedAt": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "description": "Laatste wijzigingsdatum"
                                                },
                                                "studentCount": {
                                                    "type": "integer",
                                                    "description": "Aantal ingeschreven studenten"
                                                },
                                                "assignmentCount": {
                                                    "type": "integer",
                                                    "description": "Aantal opdrachten"
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "example": {
                                "courses": [
                                    {
                                        "id": 1,
                                        "title": "Web Development",
                                        "description": "Leer moderne web development",
                                        "joinCode": "ABC123",
                                        "createdAt": "2024-01-01T00:00:00Z",
                                        "updatedAt": "2024-01-15T00:00:00Z",
                                        "studentCount": 25,
                                        "assignmentCount": 10
                                    }
                                ]
                            }
                        }
                    }
                },
                "401": {
                    "description": "Niet geauthenticeerd"
                },
                "500": {
                    "description": "Interne serverfout"
                }
            }
        },
        "post": {
            "summary": "Vak aanmaken",
            "description": "Maakt een nieuw vak aan en voegt de ingelogde docent automatisch toe als docent van het vak.",
            "operationId": "createCourse",
            "tags": [
                "Docenten"
            ],
            "security": [
                {
                    "bearerAuth": []
                }
            ],
            "requestBody": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "required": ["title"],
                            "properties": {
                                "title": {
                                    "type": "string",
                                    "description": "Titel van het vak (verplicht)",
                                    "example": "Algoritmen en Datastructuren"
                                },
                                "description": {
                                    "type": "string",
                                    "description": "Beschrijving van het vak (optioneel)",
                                    "example": "Een inleiding tot algoritmen en datastructuren"
                                },
                                "join_code": {
                                    "type": "string",
                                    "description": "Unieke inschrijfcode voor het vak (optioneel)",
                                    "example": "ALG2024"
                                }
                            }
                        }
                    }
                }
            },
            "responses": {
                "201": {
                    "description": "Vak succesvol aangemaakt",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "course": {
                                        "type": "object",
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "example": 42
                                            },
                                            "title": {
                                                "type": "string",
                                                "example": "Algoritmen en Datastructuren"
                                            },
                                            "description": {
                                                "type": "string",
                                                "nullable": true,
                                                "example": "Een inleiding tot algoritmen en datastructuren"
                                            },
                                            "join_code": {
                                                "type": "string",
                                                "nullable": true,
                                                "example": "ALG2024"
                                            },
                                            "createdAt": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2024-01-15T10:30:00Z"
                                            },
                                            "updatedAt": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2024-01-15T10:30:00Z"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "400": {
                    "description": "Ongeldige invoer (titel ontbreekt of is leeg)",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "Title is required and cannot be empty"
                                    }
                                }
                            }
                        }
                    }
                },
                "401": {
                    "description": "Niet geauthenticeerd"
                },
                "403": {
                    "description": "Geen toestemming (alleen docenten en admins kunnen vakken aanmaken)",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "Forbidden: Only teachers and admins can create courses"
                                    }
                                }
                            }
                        }
                    }
                },
                "409": {
                    "description": "Inschrijfcode bestaat al",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "Join code already exists"
                                    }
                                }
                            }
                        }
                    }
                },
                "500": {
                    "description": "Interne serverfout"
                }
            }
        }
    },
    "/api/docent/courses/{courseId}": {
        "put": {
            "summary": "Vak bewerken",
            "description": "Bewerkt de details van een bestaand vak (titel, beschrijving, join_code). Alleen docenten die les geven aan dit vak kunnen het bewerken.",
            "operationId": "updateCourse",
            "tags": [
                "Docenten"
            ],
            "security": [
                {
                    "bearerAuth": []
                }
            ],
            "parameters": [
                {
                    "name": "courseId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    },
                    "description": "ID van het vak dat bewerkt wordt"
                }
            ],
            "requestBody": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "required": ["title"],
                            "properties": {
                                "title": {
                                    "type": "string",
                                    "description": "Nieuwe titel van het vak (verplicht)",
                                    "example": "Algoritmen en Datastructuren - Gevorderden"
                                },
                                "description": {
                                    "type": "string",
                                    "description": "Nieuwe beschrijving van het vak (optioneel)",
                                    "example": "Een gevorderde cursus over algoritmen en datastructuren"
                                },
                                "join_code": {
                                    "type": "string",
                                    "description": "Nieuwe unieke inschrijfcode voor het vak (optioneel)",
                                    "example": "ALG2024-ADV"
                                }
                            }
                        }
                    }
                }
            },
            "responses": {
                "200": {
                    "description": "Vak succesvol bewerkt",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "course": {
                                        "type": "object",
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "example": 42
                                            },
                                            "title": {
                                                "type": "string",
                                                "example": "Algoritmen en Datastructuren - Gevorderden"
                                            },
                                            "description": {
                                                "type": "string",
                                                "nullable": true,
                                                "example": "Een gevorderde cursus over algoritmen en datastructuren"
                                            },
                                            "join_code": {
                                                "type": "string",
                                                "nullable": true,
                                                "example": "ALG2024-ADV"
                                            },
                                            "createdAt": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2024-01-15T10:30:00Z"
                                            },
                                            "updatedAt": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2024-01-20T14:45:00Z"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "400": {
                    "description": "Ongeldige invoer (titel ontbreekt of is leeg)",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "Title is required and cannot be empty"
                                    }
                                }
                            }
                        }
                    }
                },
                "401": {
                    "description": "Niet geauthenticeerd"
                },
                "403": {
                    "description": "Geen toestemming (gebruiker is geen docent van dit vak)",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "Forbidden: You do not have permission to edit this course"
                                    }
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "Vak niet gevonden",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "Course not found"
                                    }
                                }
                            }
                        }
                    }
                },
                "409": {
                    "description": "Inschrijfcode bestaat al",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "Join code already exists"
                                    }
                                }
                            }
                        }
                    }
                },
                "500": {
                    "description": "Interne serverfout"
                }
            }
        }
    },
    "/api/docent/courses/{courseId}/students": {
        "get": {
            "summary": "Haal ingeschreven studenten op",
            "description": "Haalt een gepagineerde lijst op van studenten die zijn ingeschreven voor een specifieke cursus, met optionele filters en sortering.",
            "operationId": "getEnrolledStudents",
            "tags": [
                "Docenten"
            ],
            "parameters": [
                {
                    "name": "courseId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    },
                    "description": "ID van de cursus"
                },
                {
                    "name": "assignmentId",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "string"
                    },
                    "description": "Filter op opdracht ID"
                },
                {
                    "name": "status",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "string"
                    },
                    "description": "Filter op inleverstatus"
                },
                {
                    "name": "search",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "string"
                    },
                    "description": "Zoek op naam of e-mail"
                },
                {
                    "name": "sortBy",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "string",
                        "default": "name"
                    },
                    "description": "Sorteerveld (name, progress, lastSubmission, avgScore)"
                },
                {
                    "name": "sortOrder",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "string",
                        "default": "asc"
                    },
                    "description": "Sorteervolgorde (asc, desc)"
                },
                {
                    "name": "page",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "integer",
                        "default": 1
                    },
                    "description": "Paginanummer"
                },
                {
                    "name": "limit",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "integer",
                        "default": 50
                    },
                    "description": "Aantal items per pagina"
                }
            ],
            "responses": {
                "200": {
                    "description": "Lijst met studenten en paginering metadata",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "students": {
                                        "type": "array",
                                        "items": {
                                            "type": "object"
                                        }
                                    },
                                    "pagination": {
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                },
                "400": {
                    "description": "Ontbrekende verplichte parameters"
                },
                "500": {
                    "description": "Interne serverfout"
                }
            }
        },
        "post": {
            "summary": "Voeg student toe aan cursus",
            "description": "Voegt een student toe aan een cursus op basis van e-mailadres. Deze functie valideert eerst of de gebruiker bestaat in het systeem, controleert of de gebruiker de rol 'student' heeft, controleert of de student al is ingeschreven, en voegt vervolgens de enrollment toe. Alleen gebruikers met de rol 'student' kunnen worden toegevoegd; docenten en admins worden geweigerd. De operatie wordt volledig gelogd met gedetailleerde stappen voor debugging doeleinden.",
            "operationId": "addStudentToCourse",
            "tags": [
                "Docenten"
            ],
            "security": [
                {
                    "bearerAuth": []
                }
            ],
            "parameters": [
                {
                    "name": "courseId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    },
                    "description": "ID van de cursus",
                    "example": 1
                }
            ],
            "requestBody": {
                "required": true,
                "description": "Student email die toegevoegd moet worden",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "format": "email",
                                    "description": "E-mailadres van de student die toegevoegd moet worden",
                                    "example": "charlie.dev@example.com"
                                }
                            },
                            "required": [
                                "email"
                            ]
                        },
                        "examples": {
                            "validRequest": {
                                "summary": "Geldige request",
                                "value": {
                                    "email": "charlie.dev@example.com"
                                }
                            }
                        }
                    }
                }
            },
            "responses": {
                "201": {
                    "description": "Student succesvol toegevoegd aan de cursus",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "message": {
                                        "type": "string",
                                        "example": "Student successfully added to the course"
                                    }
                                }
                            }
                        }
                    }
                },
                "400": {
                    "description": "Ongeldige input of missende velden",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "email is required"
                                    },
                                    "userRole": {
                                        "type": "string",
                                        "description": "De rol van de gebruiker (alleen aanwezig bij role validatie fout)",
                                        "example": "teacher"
                                    }
                                }
                            },
                            "examples": {
                                "missingBody": {
                                    "summary": "Request body ontbreekt",
                                    "value": {
                                        "error": "Request body is missing",
                                        "hint": "Ensure you are sending a JSON body and setting Content-Type: application/json"
                                    }
                                },
                                "missingEmail": {
                                    "summary": "Email ontbreekt",
                                    "value": {
                                        "error": "email is required"
                                    }
                                },
                                "missingCourseId": {
                                    "summary": "Course ID ontbreekt",
                                    "value": {
                                        "error": "courseId is required"
                                    }
                                },
                                "invalidRole": {
                                    "summary": "Gebruiker is geen student",
                                    "value": {
                                        "error": "Only users with student role can be enrolled in courses",
                                        "userRole": "teacher"
                                    }
                                }
                            }
                        }
                    }
                },
                "401": {
                    "description": "Niet geauthenticeerd - JWT token ontbreekt of is ongeldig",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "Geen token verstrekt."
                                    }
                                }
                            }
                        }
                    }
                },
                "403": {
                    "description": "Forbidden - Alleen docenten en admins hebben toegang",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "FORBIDDEN"
                                    },
                                    "message": {
                                        "type": "string",
                                        "example": "Alleen docenten en admins hebben toegang tot deze functionaliteit"
                                    }
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "Student niet gevonden met opgegeven e-mailadres",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "Student not found with this email"
                                    }
                                }
                            }
                        }
                    }
                },
                "409": {
                    "description": "Student is al ingeschreven voor deze cursus",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "Student is already enrolled in this course"
                                    }
                                }
                            }
                        }
                    }
                },
                "500": {
                    "description": "Interne serverfout",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "error": {
                                        "type": "string",
                                        "example": "Internal server error"
                                    },
                                    "message": {
                                        "type": "string",
                                        "example": "Database connection failed"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "x-logging": {
                "description": "Deze endpoint logt uitgebreide informatie voor debugging",
                "loggedInformation": [
                    "Request user (ID, email, role)",
                    "Course ID en student email",
                    "Database query resultaten per stap",
                    "Success/failure indicators",
                    "Complete error stack traces"
                ],
                "logLevels": {
                    "info": "Request details en success messages",
                    "error": "Database errors en validation failures"
                }
            }
        }
    },
    "/api/docent/courses/{courseId}/students/{studentId}": {
        "delete": {
            "summary": "Verwijder student uit cursus",
            "description": "Verwijdert een student uit een specifieke cursus.",
            "operationId": "removeStudentFromCourse",
            "tags": [
                "Docenten"
            ],
            "parameters": [
                {
                    "name": "courseId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    },
                    "description": "ID van de cursus"
                },
                {
                    "name": "studentId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    },
                    "description": "ID van de te verwijderen student"
                }
            ],
            "responses": {
                "200": {
                    "description": "Student succesvol verwijderd"
                },
                "400": {
                    "description": "Missing parameters"
                },
                "404": {
                    "description": "Student niet ingeschreven"
                },
                "500": {
                    "description": "Interne serverfout"
                }
            }
        }
    },
    "/api/docent/courses/{courseId}/student-status": {
        "get": {
            "summary": "Haal uitgebreide status van alle studenten op",
            "description": "Haalt een gepagineerde lijst op van studenten met gedetailleerde statistieken per student en per opdracht voor een specifieke cursus.",
            "operationId": "getStudentStatusByCourse",
            "tags": [
                "Docenten"
            ],
            "parameters": [
                {
                    "name": "courseId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    },
                    "description": "ID van de cursus"
                },
                {
                    "name": "search",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "string"
                    },
                    "description": "Zoek op naam of e-mail"
                },
                {
                    "name": "sortBy",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "string",
                        "default": "name",
                        "enum": ["name", "progress", "lastSubmission", "avgScore"]
                    },
                    "description": "Sorteerveld"
                },
                {
                    "name": "sortOrder",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "string",
                        "default": "asc",
                        "enum": ["asc", "desc"]
                    },
                    "description": "Sorteervolgorde"
                },
                {
                    "name": "page",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "integer",
                        "default": 1
                    },
                    "description": "Paginanummer"
                },
                {
                    "name": "limit",
                    "in": "query",
                    "required": false,
                    "schema": {
                        "type": "integer",
                        "default": 50
                    },
                    "description": "Aantal items per pagina"
                }
            ],
            "responses": {
                "200": {
                    "description": "Lijst met studenten, hun statistieken en opdrachtenstatus",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "students": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "id": {"type": "integer"},
                                                "name": {"type": "string"},
                                                "email": {"type": "string"},
                                                "githubId": {"type": "string"},
                                                "statistics": {
                                                    "type": "object",
                                                    "properties": {
                                                        "totalAssignments": {"type": "integer"},
                                                        "totalSubmissions": {"type": "integer"},
                                                        "completedAssignments": {"type": "integer"},
                                                        "gradedAssignments": {"type": "integer"},
                                                        "pendingAssignments": {"type": "integer"},
                                                        "avgScore": {"type": "number", "nullable": true},
                                                        "avgFeedbackSeverity": {"type": "number", "nullable": true},
                                                        "lastSubmission": {"type": "string", "format": "date-time", "nullable": true},
                                                        "lastStatus": {"type": "string", "nullable": true},
                                                        "completionRate": {"type": "number"},
                                                        "gradedRate": {"type": "number"}
                                                    }
                                                },
                                                "assignments": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "assignmentId": {"type": "integer"},
                                                            "title": {"type": "string"},
                                                            "dueDate": {"type": "string", "format": "date-time"},
                                                            "status": {"type": "string"},
                                                            "lastSubmission": {"type": "string", "format": "date-time", "nullable": true},
                                                            "aiScore": {"type": "integer", "nullable": true},
                                                            "manualScore": {"type": "integer", "nullable": true},
                                                            "feedbackSeverity": {"type": "number", "nullable": true}
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "pagination": {
                                        "type": "object",
                                        "properties": {
                                            "currentPage": {"type": "integer"},
                                            "totalPages": {"type": "integer"},
                                            "totalItems": {"type": "integer"},
                                            "itemsPerPage": {"type": "integer"}
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "400": {
                    "description": "Ontbrekende verplichte parameters"
                },
                "500": {
                    "description": "Interne serverfout"
                }
            }
        }
    },
    "/api/docent/courses/{courseId}/students/{studentId}/status": {
        "get": {
            "summary": "Haal status van één specifieke student op",
            "description": "Haalt gedetailleerde statistieken en opdrachtenstatus op voor één specifieke student in een cursus.",
            "operationId": "getStudentStatusForStudent",
            "tags": [
                "Docenten"
            ],
            "parameters": [
                {
                    "name": "courseId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    },
                    "description": "ID van de cursus"
                },
                {
                    "name": "studentId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    },
                    "description": "ID van de student"
                }
            ],
            "responses": {
                "200": {
                    "description": "Studentgegevens met statistieken en opdrachtenstatus",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "student": {
                                        "type": "object",
                                        "properties": {
                                            "id": {"type": "integer"},
                                            "name": {"type": "string"},
                                            "email": {"type": "string"},
                                            "githubId": {"type": "string"},
                                            "statistics": {
                                                "type": "object",
                                                "properties": {
                                                    "totalAssignments": {"type": "integer"},
                                                    "totalSubmissions": {"type": "integer"},
                                                    "completedAssignments": {"type": "integer"},
                                                    "gradedAssignments": {"type": "integer"},
                                                    "pendingAssignments": {"type": "integer"},
                                                    "avgScore": {"type": "number", "nullable": true},
                                                    "avgFeedbackSeverity": {"type": "number", "nullable": true},
                                                    "lastSubmission": {"type": "string", "format": "date-time", "nullable": true},
                                                    "lastStatus": {"type": "string", "nullable": true},
                                                    "completionRate": {"type": "number"},
                                                    "gradedRate": {"type": "number"}
                                                }
                                            },
                                            "assignments": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "assignmentId": {"type": "integer"},
                                                        "title": {"type": "string"},
                                                        "dueDate": {"type": "string", "format": "date-time"},
                                                        "status": {"type": "string"},
                                                        "lastSubmission": {"type": "string", "format": "date-time", "nullable": true},
                                                        "aiScore": {"type": "integer", "nullable": true},
                                                        "manualScore": {"type": "integer", "nullable": true},
                                                        "feedbackSeverity": {"type": "number", "nullable": true}
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "400": {
                    "description": "Ontbrekende verplichte parameters"
                },
                "404": {
                    "description": "Student niet gevonden in deze cursus"
                },
                "500": {
                    "description": "Interne serverfout"
                }
            }
        }
    },
    "/api/docent/courses/{courseId}/statistics/stream": {
        "get": {
            "summary": "Real-time statistieken stream (SSE)",
            "description": "Server-Sent Events stream voor live updates van cursusstatistieken. Docenten ontvangen realtime notificaties bij submission wijzigingen, enrollment changes, en feedback toevoegingen. Authenticatie via query parameter omdat EventSource geen headers ondersteunt.",
            "operationId": "streamCourseStatistics",
            "tags": [
                "Docenten"
            ],
            "parameters": [
                {
                    "name": "courseId",
                    "in": "path",
                    "required": true,
                    "description": "Unieke ID van de cursus",
                    "schema": {
                        "type": "integer"
                    }
                },
                {
                    "name": "token",
                    "in": "query",
                    "required": true,
                    "description": "JWT access token voor authenticatie (omdat EventSource geen custom headers ondersteunt)",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "responses": {
                "200": {
                    "description": "SSE stream gestart - ontvangt realtime events",
                    "content": {
                        "text/event-stream": {
                            "schema": {
                                "type": "string",
                                "description": "Server-Sent Events stream met JSON payloads"
                            },
                            "examples": {
                                "connection": {
                                    "summary": "Connection established event",
                                    "value": "data: {\"type\":\"connection:established\",\"courseId\":8,\"timestamp\":\"2025-12-17T14:30:00.000Z\"}\n\n"
                                },
                                "heartbeat": {
                                    "summary": "Heartbeat (elke 30s)",
                                    "value": ":heartbeat\n\n"
                                },
                                "submission_analyzed": {
                                    "summary": "Submission geanalyseerd door AI",
                                    "value": "data: {\"id\":12345,\"timestamp\":\"2025-12-17T14:30:15.000Z\",\"courseId\":8,\"type\":\"submission:analyzed\",\"data\":{\"submissionId\":123,\"studentId\":45,\"assignmentId\":5,\"aiScore\":85}}\n\n"
                                },
                                "feedback_added": {
                                    "summary": "Feedback toegevoegd aan submission",
                                    "value": "data: {\"id\":12346,\"timestamp\":\"2025-12-17T14:30:20.000Z\",\"courseId\":8,\"type\":\"feedback:added\",\"data\":{\"submissionId\":123,\"studentId\":45,\"assignmentId\":5,\"feedbackCount\":5,\"avgSeverity\":2.4}}\n\n"
                                },
                                "enrollment_added": {
                                    "summary": "Student toegevoegd aan cursus",
                                    "value": "data: {\"id\":12347,\"timestamp\":\"2025-12-17T14:31:00.000Z\",\"courseId\":8,\"type\":\"enrollment:added\",\"data\":{\"studentId\":78,\"studentName\":\"John Doe\",\"studentEmail\":\"john@example.com\"}}\n\n"
                                },
                                "enrollment_removed": {
                                    "summary": "Student verwijderd uit cursus",
                                    "value": "data: {\"id\":12348,\"timestamp\":\"2025-12-17T14:32:00.000Z\",\"courseId\":8,\"type\":\"enrollment:removed\",\"data\":{\"studentId\":78,\"studentName\":\"John Doe\",\"studentEmail\":\"john@example.com\"}}\n\n"
                                }
                            }
                        }
                    }
                },
                "400": {
                    "description": "Ontbrekende cursus ID"
                },
                "401": {
                    "description": "Ongeldige of ontbrekende token"
                },
                "403": {
                    "description": "Geen toegang tot deze cursus - gebruiker is geen docent van deze cursus"
                },
                "500": {
                    "description": "Interne serverfout bij opzetten SSE stream"
                }
            }
        }
    }
  }
}